{% extends "main/base_navigate.html" %}

{% block app_content %}
<br>
<br>
<div class="pagestyle">
    <table class="table table-borderless">
        <tr>
            <td ALIGN="CENTER">
                <h4 class="pnavbut"><b>Your predicted well-being score</b></h4>
            </td>
        </tr>
        <tr>
            <td ALIGN="LEFT">
                {# — Score — #}
                {% set gauge_score = explain_dic.predicted_score %}
                {% include 'main/explain_intro_and_gauge.html' %}

                {# — Key factors — #}
                <h4 class="pnavsub">Key factors</h4>
                <p>
                    We found <strong>{{ explain_dic.n_informative }}</strong> factors that explain the majority of your score:
                    <ol>
                    {% for question_id, question_data in explain_dic.feature_content_dic.items() %}
                    <li>
                        <strong>{{ question_data[0] }}</strong>: {{ question_data[1] }}
                    </li>
                    {% endfor %}
                </ol>
                </p>
                <p>
                    Each axis of the radar chart represents your answers to these questions, showing how each factor contributes to your overall well-being score. The distance from the center indicates how well you are doing in the factor mentionned.
                </p>

                <div class="chart-container">
                    <img src="{{ url_for('main.radar_chart',
                        labels=explain_dic.feature_content_dic.values() | map(attribute=0) | join(','),
                        values=explain_dic.feature_content_dic.values() | map(attribute=4) | join(',')
                        ) }}"
                        alt="Radar Chart">
                </div>

                {# — Additionnal factors — #}
                <h4 class="pnavsub">Additionnal factors</h4>
                <p>
                    
                </p>
                <p>
                    This tool aims to help you identify which aspects of your lifestyle have the most influence on your well-being and where you might want to focus your attention to feel better overall. Small, consistent changes in these areas could make a meaningful difference.
                </p>
            </td>
        </tr>
    </table>
    <a>
        <form action="{{ url_for('main.satisfaction') }}" method="post">
            <div style="text-align: left;">
                <input type="submit" value="Next" class="btn btn-primary btn-submit">
            </div>
        </form>
    </a>
    <br>
</div>
{% endblock %}
